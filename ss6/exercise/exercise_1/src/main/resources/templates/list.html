<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"><head>
    <meta charset="UTF-8">
    <title>Blog List</title>
</head>
<body>
<h1>Blog List</h1>
<div style="color: red" th:text="${msg}"></div>
<a href="/blog/write-new-blog-form">Write new Blog</a>
<a href="/category/list">Category Management</a>
<form method="get" th:action="@{/blog/list}">
    <input th:name="searchTittle" th:value="${searchTittle}">
    <button>Search</button>
</form>
<table style="border-collapse: collapse" border="1">
    <tr>
        <td>STT</td>
        <td>Title</td>
        <td>Posting Date</td>
        <td>Author</td>
        <td colspan="2">Action</td>
    </tr>
    <tr th:each="blog,status: ${blogPage}">
        <td th:text="${status.count}"></td>
        <td><a th:text="${blog.tittle}" th:href="@{/blog/info/{id}(id=${blog.id})}"></a></td>
        <td th:text="${blog.postingDate}"></td>
        <td th:text="${blog.author}"></td>
        <td>
            <form th:action="@{/blog/delete}" method="post">
                <input hidden="hidden" th:name="id" th:value="${blog.id}">
                <button>delete</button>
            </form>
        </td>
        <td>
            <form th:action="@{/blog/edit-form}" method="post">
                <input hidden="hidden" th:name="id" th:value="${blog.id}">
                <button>Edit</button>
            </form>
        </td>
    </tr>
</table>
<a th:if="${blogPage.hasPrevious()}" th:href="@{/blog/list(page=${blogPage.number-1},searchTittle=${searchTittle})}">Previous</a>
<span th:text="${blogPage.number + 1}"></span>/<span th:text="${blogPage.totalPages}"></span>
<a th:if="${blogPage.hasNext()}" th:href="@{/blog/list(page=${blogPage.number+1},searchTittle=${searchTittle})}">Next</a>
</body>
</html>